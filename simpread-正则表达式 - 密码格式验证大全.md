> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [www.cnblogs.com](https://www.cnblogs.com/tinymad/p/15836480.html#%E8%87%B3%E5%B0%91%E5%8C%85%E5%90%AB%E5%AD%97%E6%AF%8D%E6%95%B0%E5%AD%97%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A61-9%E4%BD%8D%E5%B9%B6%E4%B8%94%E4%B8%8D%E8%83%BD%E8%BF%9E%E7%BB%AD%E5%87%BA%E7%8E%B03%E4%B8%AA%E5%A4%A7%E5%B0%8F%E8%BF%9E%E7%BB%AD%E6%88%96%E7%9B%B8%E5%90%8C%E7%9A%84%E6%95%B0%E5%AD%97%E5%A6%82456654888)

前言
==

这里有你想要的正则表达式。网上这方面的内容比较分散，[本文](https://www.cnblogs.com/tinymad/p/15836480.html)将尽量写出验证各种密码格式的正则表达式，漏了的情况请留言提示我进行添加，如果对你有帮助，麻烦[跳转至底部](#%E6%9C%80%E5%90%8E)给我一个赞，谢谢。  
话不多说，直接上答案。

导航
==

[TOC]



示例
==

1 种
---

### 只能由 1 种组成

#### 只能由字母组成，1-9 位

`^[a-zA-Z]{1,9}$`

#### 只能由数字组成，1-9 位

`^\d{1,9}$`

#### 只能由特殊字符组成，1-9 位

`^[^\da-zA-Z\s]{1,9}$`

### 至少包含 1 种

#### 至少包含字母，1-9 位

`^(?=.*[a-zA-Z]).{1,9}$`

#### 至少包含数字，1-9 位

`^(?=.*\d).{1,9}$`

#### 至少包含特殊字符，1-9 位

`^(?=.*[^\da-zA-Z\s]).{1,9}$`

2 种
---

### 只能由 2 种组成

#### 只能由字母、数字组成，1-9 位

`^(?=.*\d)(?=.*[A-z])[\da-zA-Z]{1,9}$`

#### 只能由字母、特殊字符组成，1-9 位

`^(?=.*[a-zA-Z])(?=.*[^\da-zA-Z\s])([a-zA-Z]|[^\da-zA-Z\s]){1,9}$`

#### 只能由数字、特殊字符组成，1-9 位

`^(?=.*\d)(?=.*[^\da-zA-Z\s])(\d|[^\da-zA-Z\s]){1,9}$`

### 至少包含 2 种

#### 至少包含字母、数字，1-9 位

`^(?=.*[a-zA-Z])(?=.*\d).{1,9}$`

#### 至少包含字母、特殊字符，1-9 位

`^(?=.*[a-zA-Z])(?=.*[^\da-zA-Z\s]).{1,9}$`

#### 至少包含数字、特殊字符，1-9 位

`^(?=.*\d)(?=.*[^\da-zA-Z\s]).{1,9}$`

### 任意 2 种组成

#### 由字母、数字、特殊字符，任意 2 种组成，1-9 位

`^(?![a-zA-Z]+$)(?!\d+$)(?![^\da-zA-Z\s]+$).{1,9}$`

3 种
---

### 至少包含 3 种

#### 至少包含字母、数字、特殊字符，1-9 位

`^(?=.*\d)(?=.*[a-zA-Z])(?=.*[^\da-zA-Z\s]).{1,9}$`

#### 至少包含字母、数字、特殊字符，1-9 位，并且不能连续出现 3 个大小连续或相同的数字 (如：456、654、888)

`^(?=.*\d)(?!.*(\d)\1{2})(?!.*(012|123|234|345|456|567|678|789|987|876|765|654|543|432|321|210))(?=.*[a-zA-Z])(?=.*[^\da-zA-Z\s]).{1,9}$`

详解
==

吐槽
--

这块内容一般放在前言里的，但对于正则表达式的内容，写在上面有些多余，因为正则表达式这东西用的时候很少，一部分人可能对怎么写不感兴趣，或者要用的时候比较急，只想复制粘贴后能正常运行，我朋友就属于前两者（医生：你说的这个朋友，是不是你自己呀. jpg）。  
看到这儿的应该是没那么急的，那么下面我们就来聊聊——写出满足密码验证条件的正则表达式，需要了解哪些关键语法？

正文
--

<table><thead><tr><th>字符</th><th>描述</th></tr></thead><tbody><tr><td>^</td><td>匹配输入字符串的开始位置。</td></tr><tr><td>$</td><td>匹配输入字符串的结束位置。</td></tr><tr><td>*</td><td>匹配前面的子表达式零次或多次。例如，zo * 能匹配 “z” 以及“zoo”。* 等价于{0,}。</td></tr><tr><td>+</td><td>匹配前面的子表达式一次或多次。例如，“zo+”能匹配 “zo” 以及“zoo”，但不能匹配“z”。+ 等价于{1,}。</td></tr><tr><td>?</td><td>匹配前面的子表达式零次或一次。例如，“do(es)?”可以匹配 “does” 或“does”中的“do”。? 等价于{0,1}。</td></tr><tr><td></td><td>最少匹配 n 次且最多匹配 m 次。例如，“o{1,3}”将匹配 “fooooood” 中的前三个 o。“o{0,1}”等价于“o?”。</td></tr><tr><td>.</td><td>匹配除换行符之外的任何单个字符。</td></tr><tr><td>[a-z]</td><td>匹配任意小写字母。</td></tr><tr><td>[A-Z]</td><td>匹配任意大写字母。</td></tr><tr><td>[a-zA-Z]</td><td>匹配任意字母，不区分大小写。</td></tr><tr><td>\d</td><td>匹配一个数字。等价于 [0-9]。</td></tr><tr><td>\s</td><td>匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [\f\n\r\t\v]。</td></tr><tr><td>(?=pattern)</td><td>正向肯定预查。例如，“Windows(?=2000)”能匹配 “Windows2000” 中的 “Windows”，但不能匹配“Windows3.1” 中的“Windows”。</td></tr><tr><td>(?!pattern)</td><td>正向否定预查。例如 “Windows(?!2000)” 能匹配 “Windows3.1” 中的 “Windows”，但不能匹配“Windows2000” 中的“Windows”。</td></tr><tr><td>x|y</td><td>匹配 x 或 y。例如，“z|food”能匹配 “z” 或“food”。“(z|f)ood”则匹配 “zood” 或“food”。</td></tr><tr><td>[xyz]</td><td>字符集合。匹配所包含的任意一个字符。例如，“[abc]”可以匹配 “plain” 中的“a”。</td></tr><tr><td>[^xyz]</td><td>负值字符集合。匹配未包含的任意字符。例如，“[^abc]”可以匹配 “plain” 中的“p”。</td></tr></tbody></table>

上面这些语法应该是大家最常见的、也是最基础的，但对写密码格式验证的正则表达式来说，不是最关键的。  
关键是下面 3 套组合拳：

*   `(?=.*x)`  
    必须有 x。  
    例：必须有数字——`(?=.*\d)`，以此类推。

*   `(?!.*x)`  
    不能有 x。  
    例：不能有数字——`(?!.*\d)`，以此类推。

*   `(?!x+$)`  
    不能全是某一种字符。  
    例：不能全是数字——`(?!\d+$)`，以此类推。

有了上面的公式，再去看前面的示例应该就比较好理解了。  
这里有些人可能就有点疑惑了——上面的表中不是写的`(?=pattern)`表示在特定字符前，匹配前面的字符吗？如：  
`Windows(?=2000)`能匹配 “Windows2000” 中的“Windows”，怎么跟后面提到的用法不一样。  
这是因为`Windows(?=2000)`中的 “Windows” 不仅仅只表示要获取的字符，同时还是一个筛选条件——当 “2000” 前面是 “Windows” 时，即：`Windows(?=Windows2000)`，根据这个思路将正则表达式改为`(?=Windows2000)Windows`同样也是能匹配 “Windows2000” 中的 “Windows” 的。所以，当我们不在意 “2000” 前面有没有“Windows”，甚至不在意前面有没有字符时，`(?=.*2000)`就代表必须有 “2000”，才匹配字符串了。

最后
==

之所以写这个随笔，也是由于最近在找一个密码验证的正则表达式，找了好久都没有一个满意的。搜到的文章里有示例的不够全面，或者详解部分不够针对，不符合应用场景。在看了一些资料后，终于写出了需要的正则表达式，后来意识到可能大家也会遇到跟我类似的情况，所以就想挑战一下自己，算是完善自身，帮助他人，我想这也是大家写博客的初衷。

*   [前言](#前言)
*   [导航](#导航)
*   [示例](#示例)
*    [1 种](#tid-YZwfAD)
*    [只能由 1 种组成](#只能由1种组成)
*    [只能由字母组成，1-9 位](#只能由字母组成1-9位)
*    [只能由数字组成，1-9 位](#只能由数字组成1-9位)
*    [只能由特殊字符组成，1-9 位](#只能由特殊字符组成1-9位)
*    [至少包含 1 种](#至少包含1种)
*    [至少包含字母，1-9 位](#至少包含字母1-9位)
*    [至少包含数字，1-9 位](#至少包含数字1-9位)
*    [至少包含特殊字符，1-9 位](#至少包含特殊字符1-9位)
*    [2 种](#tid-tYzsr7)
*    [只能由 2 种组成](#只能由2种组成)
*    [只能由字母、数字组成，1-9 位](#只能由字母数字组成1-9位)
*    [只能由字母、特殊字符组成，1-9 位](#只能由字母特殊字符组成1-9位)
*    [只能由数字、特殊字符组成，1-9 位](#只能由数字特殊字符组成1-9位)
*    [至少包含 2 种](#至少包含2种)
*    [至少包含字母、数字，1-9 位](#至少包含字母数字1-9位)
*    [至少包含字母、特殊字符，1-9 位](#至少包含字母特殊字符1-9位)
*    [至少包含数字、特殊字符，1-9 位](#至少包含数字特殊字符1-9位)
*    [任意 2 种组成](#任意2种组成)
*    [由字母、数字、特殊字符，任意 2 种组成，1-9 位](#由字母数字特殊字符任意2种组成1-9位)
*    [3 种](#tid-kT4t45)
*    [至少包含 3 种](#至少包含3种)
*    [至少包含字母、数字、特殊字符，1-9 位](#至少包含字母数字特殊字符1-9位)
*    [至少包含字母、数字、特殊字符，1-9 位，并且不能连续出现 3 个大小连续或相同的数字 (如：456、654、888)](#至少包含字母数字特殊字符1-9位并且不能连续出现3个大小连续或相同的数字如456654888)
*   [详解](#详解)
*    [吐槽](#吐槽)
*    [正文](#正文)
*   [最后](#最后)
